package com.yjiang.base.leecode;

public class SatisfiabilityEqualityEquations {
    public static void main(String[] args) {
        SatisfiabilityEqualityEquations satisfiabilityEqualityEquations = new SatisfiabilityEqualityEquations();
//        System.out.println(satisfiabilityEqualityEquations.equationsPossible(new String[]{"m!=t","t!=h","e==x","e!=h","q==v","h==c","p==p","r==u","p==k","o==v","e==b","f==n","o!=u","y==n","g!=y","i!=k","f!=q","u==u","l==w","s==m","l!=s","e!=q","l!=i","g!=y","o!=x","p!=n","d==h","l!=b","l!=p","p!=t","a!=q","a!=h","y!=v","y!=i","j==c","h!=u","d!=w","c==h","d!=n","k!=u","o!=n","m!=d","p!=r","a!=q","x!=o","t!=u","s==m","m==m","d!=v","i!=r","o!=u","c==j","c!=x","m!=b","q==o","c!=q","j!=t","t!=o","c!=m","b!=u","h!=v","v!=p","i!=f","e!=o","m!=c","a!=s","b!=d","i!=l","f!=k","m!=c","l!=e","k!=d","d!=g","y!=a","c!=m","a!=i","w!=i","r!=s","e!=h","g!=u","h!=a","f==y","q!=x","h!=i","x!=s","f!=l","l!=u","s!=g","u!=n","h==d","x!=j","f!=e","u!=d","x!=d","r!=m","h!=p","q!=p","t!=b","n!=o","x==x","g!=k","o!=d","e!=a","k!=w","e==e","m!=k","l!=q","m!=a","k!=b","o!=f","o!=m","w!=y","j!=i","u!=k","g!=n","a!=v","e!=l","q!=t","b!=d","b!=g","s!=b","h!=y","a!=l","m!=y","j==j","f!=a","w!=r","b!=l","j!=n","s!=o","g!=t","y!=c","o!=u","f!=r","a!=i","u!=t","h==c","u!=q","y!=v","o==o","w!=p","r!=v","i!=v","d!=t","p==p","j!=t","k==p","d!=o","e!=r","f!=o","q!=k","l!=x","v!=r","r!=f","j!=t","x==e","f!=j","r!=l","t!=j","l!=e","b==b","m!=u","a!=i","t!=b","l!=m","a!=x","l!=c","b!=v","a!=u","l!=i","j!=r","c!=r","w==l","v!=k","q!=w","s!=c","f!=u","q!=l","t!=f","t!=x","w!=i","w!=g","m!=p","m==s","x!=r","v!=s","m!=k","a!=x","b!=i","d!=l","a!=v","n!=q","s!=o","u!=h","d==j","u==r","b!=p","e!=d","h==c","e!=t","t!=g","f!=q","y!=u","v!=d","s!=h","n!=g","w!=n","h!=k","x!=d","a!=l","h!=q","g==g","i!=f","s!=u","d!=v","o==o","e!=g","v!=u","x!=a","n!=q","v!=k","h!=b","m!=n","e!=f","q!=y","j!=b","j!=u","i!=m","q!=u","w!=t","g!=m","l!=j","u!=n","f!=v","x!=i","f!=q","v!=g","c!=u","l!=e","q!=j","r!=g","r!=x","s==m","b!=r","g!=i","c==c","e!=n","x!=v","x!=d","g!=j","g!=r","v!=c","p!=v","l!=f","d!=p","u!=h","q!=b","e!=n","l!=c","s!=g","m!=e","v!=i","a!=x","g!=x","g!=v","r!=p","k!=g","u!=a","m!=i","k!=u","v!=h","c!=x","w!=c","b!=k","s!=w","k!=g","i!=f","c!=b","t!=m","l!=o","r!=i","o!=j","h!=q","i!=a","g!=u","e!=a","p!=c","l!=f","b!=v","s!=t","n!=p","p==k","y!=m","o!=c","i!=t","l!=y","v!=h","k!=r","t!=w","y!=m","b!=m","d!=n","k!=m","e!=v","a!=i","x!=n","h!=q","p!=u","n!=w","n!=u","t!=o","x!=s","d!=t","j!=m","c!=l","d!=p","f==f","x!=g","x!=a","k!=y","t==t","e!=p","q!=b","r!=f","l!=h","p!=q","e!=f","w!=t","q!=r","n!=b","u!=i","e!=w","k!=o","l!=x","m!=j","a!=p","t!=a","c==j","y!=w","v!=g","v!=k","y!=b","s!=g","l!=e","w!=g","y!=q","u!=m","t!=n","f!=w","n!=h","v!=t","k!=e","c!=n","q!=r","l!=j","v==v","l!=r","x!=f","t!=k","v!=l","k!=r","p!=b","n!=c","u!=k","m!=c","g!=p","u!=c","q!=k","w!=c","n!=m","q!=n","k!=d","f!=v","v!=f","l!=s","x!=a","g!=a","u!=c","e!=q","l!=r","x!=q","u==r","v!=f","b!=y","l!=i","l!=k","v!=p","d!=b","b!=c","b==e","a!=n","v!=k","x!=m","y!=r","d!=p","t!=w","p!=y","g!=q","q!=y","b!=o","a!=j","d!=b","g!=y","y!=d","v!=y","v!=n","c!=n","h!=t","h!=k","f!=l","y!=c","k!=x","t!=c","c!=a","e!=l","e!=y","i!=m","f!=s","p!=i","y!=t","u!=s","u!=e","k==k","v!=j","n!=b","x!=q","w!=e","j!=o","x!=j","k!=g","j!=k","v!=m","a!=q","f!=j","i!=h","k!=v","u!=o","a!=e","a!=f","a!=n","i!=y","t!=e","n!=w","o!=l","w!=u","x!=n","p==p","d==d","d!=b","t!=w","p!=s","j!=m","c!=m","i!=w","s!=d","w!=t","n!=r","o!=f","y!=o","j==h","q!=n","g!=k","w!=n","x==b","d==c","d!=m","j!=k","b!=t","t!=n","s!=r","n!=k","h!=u","j==d","r!=k","c!=n","w!=u","v==v","c!=i","c!=n","p!=n","y!=i","n!=w","w!=m","m!=y","t!=p","c!=o","f!=w","o!=a","k!=n","k!=r","k!=w","y!=e","d!=m","t!=y","l==w","e!=v","o==o","f!=o","i!=l","g==v"}));
//        System.out.println(satisfiabilityEqualityEquations.equationsPossible(new String[]{"a==b","e==c","b==c","a!=e"}));
        System.out.println(satisfiabilityEqualityEquations.equationsPossible(new String[]{"a==b","c==d","a==c","a!=d"}));
    }

    public boolean equationsPossible(String[] equations) {
        Integer[] equalArr = new Integer[26];
        for (int i = 0; i < equations.length; i++) {
            String equation = equations[i];
            if(equation.charAt(1)=='='){
                char a = equation.charAt(0);
                char b = equation.charAt(3);
                if(a != b){
                    equalArr[find(equalArr, a)] = find(equalArr, b);
                }
            }
        }
        for (int i = 0; i < equations.length; i++) {
            String equation = equations[i];
            if(equation.charAt(1)=='!'){
                char a = equation.charAt(0);
                char b = equation.charAt(3);
                if(a == b || find(equalArr, a) == find(equalArr, b)){
                    return false;
                }
            }
        }
        return true;
    }
    private int find(Integer[] equalArr, char a){
        while(equalArr[(a-'a')] != null && equalArr[(a-'a')] != a - 'a'){
            a = (char)(equalArr[(a-'a')] + 'a');
        }
        return a-'a';
    }
}
